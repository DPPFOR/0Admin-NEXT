# --- Core / API ---
APP_ENV=local
LOG_LEVEL=INFO
TZ=Europe/Berlin
PORT=8000
SECRET_KEY=change-me

# --- Models / Flock ---
OPENAI_API_KEY=sk-xxxx
DEFAULT_MODEL=openai/gpt-4.1
FLOCK_AUTO_TRACE=true
FLOCK_TRACE_FILE=true             # schreibt .flock/traces.duckdb

# --- Datenbank ---
# Beispiel: postgresql+psycopg://user:pass@localhost:5432/zeroadmin
DATABASE_URL=postgresql+psycopg://user:pass@localhost:5432/zeroadmin

# --- E-Mail Versand (Agents: mahnwesen/erechnung) ---
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=username
SMTP_PASSWORD=password
MAIL_FROM=no-reply@example.com
MAIL_TLS=true

# --- Dokumente / Storage ---
DOCS_OUTPUT_DIR=./artifacts/reports
TEMPLATE_DIR=./backend

# --- Multi-Tenant (optional) ---
DEFAULT_TENANT=tA
# Upload / Ingest
# Max upload size in MB
MAX_UPLOAD_MB=25
# MIME allowlist CSV
MIME_ALLOWLIST="application/pdf,image/png,image/jpeg,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/json,application/xml"
# Storage backend (v1 supports file only)
STORAGE_BACKEND=file
STORAGE_BASE_URI="file:///var/0admin/uploads"
# Auth tokens (CSV)
AUTH_SERVICE_TOKENS=

# Programmatic ingest (Remote-URL)
INGEST_TIMEOUT_CONNECT_MS=2000
INGEST_TIMEOUT_READ_MS=5000
INGEST_REDIRECT_LIMIT=3
INGEST_URL_ALLOWLIST=
INGEST_URL_DENYLIST=

# Worker / Parser
WORKER_BATCH_SIZE=50
WORKER_POLL_INTERVAL_MS=1000
PARSER_MAX_BYTES=10000000
PARSER_CHUNK_THRESHOLD_BYTES=262144
PARSER_RETRY_MAX=3
PARSER_BACKOFF_STEPS="5,30,300"

# Mail ingest
MAIL_PROVIDER=imap
MAILBOX_NAME=INBOX
MAIL_BATCH_LIMIT=50
MAIL_SINCE_HOURS=24
MAIL_POLL_INTERVAL_MS=0
MAIL_CONNECTOR_AUTO=false
# IMAP
IMAP_HOST=
IMAP_PORT=993
IMAP_SSL=true
IMAP_USERNAME=
IMAP_PASSWORD=
# Graph
GRAPH_TENANT_ID=
GRAPH_CLIENT_ID=
GRAPH_CLIENT_SECRET=
GRAPH_USER_ID=

# Outbox publisher
PUBLISH_TRANSPORT=stdout
PUBLISH_BATCH_SIZE=50
PUBLISH_POLL_INTERVAL_MS=1000
PUBLISH_BACKOFF_STEPS="5,30,300"
PUBLISH_RETRY_MAX=3
WEBHOOK_URL=
WEBHOOK_TIMEOUT_MS=3000
WEBHOOK_SUCCESS_CODES="200-299"
WEBHOOK_HEADERS_ALLOWLIST=
WEBHOOK_DOMAIN_ALLOWLIST=

# Read/Ops API
# Max. Anzahl Elemente pro Seite (Server-Cap)
READ_MAX_LIMIT=100
# HMAC-Schl端ssel f端r Cursor-Signaturen (Pflicht in Produktion; eindeutiger, starker Secret-Wert)
CURSOR_HMAC_KEY=dev-secret-key-change
# Admin-Rollentokens (CSV) f端r Ops-Endpunkte (/api/v1/ops/*)
ADMIN_TOKENS=

# Security / Rotation
# Token-Rotationsfenster (Tage), Information f端r Ops/Alerts
TOKEN_ROTATION_WINDOW_DAYS=90
