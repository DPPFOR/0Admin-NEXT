# Staging Environment (example) â€” Do not commit real secrets

# Core
APP_ENV=staging
LOG_LEVEL=INFO
ENABLE_METRICS=true
DATABASE_URL=postgresql+psycopg://user:password@staging-db-host:5432/zero_admin

# Storage (v1: file only)
STORAGE_BACKEND=file
STORAGE_BASE_URI="file:///var/zero-admin/uploads"

# Auth / Tokens
AUTH_SERVICE_TOKENS=
ADMIN_TOKENS=
CURSOR_HMAC_KEY=
# Optional dual-key rotation (see ops/runbooks/secrets.md)
CURSOR_HMAC_KEY_PREVIOUS=
TOKEN_ROTATION_WINDOW_DAYS=90

# Tenant Policy
TENANT_ALLOWLIST=
# or file-based allowlist
TENANT_ALLOWLIST_PATH=
TENANT_ALLOWLIST_REFRESH_SEC=60
TENANT_DEFAULT=

# Upload / Ingest (Programmatic)
MAX_UPLOAD_MB=25
MIME_ALLOWLIST="application/pdf,image/png,image/jpeg,text/csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/json,application/xml"
INGEST_TIMEOUT_CONNECT_MS=2000
INGEST_TIMEOUT_READ_MS=5000
INGEST_REDIRECT_LIMIT=3
INGEST_URL_ALLOWLIST=
INGEST_URL_DENYLIST=

# Mail Ingest (optional in staging; keep disabled or mocked)
MAIL_PROVIDER=imap
MAILBOX_NAME=INBOX
MAIL_BATCH_LIMIT=25
MAIL_SINCE_HOURS=48
MAIL_POLL_INTERVAL_MS=0
MAIL_MAX_BYTES_PER_RUN=50000000
MAIL_RETRY_MAX=3
MAIL_BACKOFF_STEPS="1000,5000,10000"
MAIL_CONNECTOR_AUTO=false

# IMAP credentials (optional)
IMAP_HOST=
IMAP_PORT=993
IMAP_SSL=true
IMAP_USERNAME=
IMAP_PASSWORD=

# Microsoft Graph (optional)
GRAPH_TENANT_ID=
GRAPH_CLIENT_ID=
GRAPH_CLIENT_SECRET=
GRAPH_USER_ID=

# Outbox Publisher
PUBLISH_TRANSPORT=stdout
PUBLISH_BATCH_SIZE=50
PUBLISH_POLL_INTERVAL_MS=1000
PUBLISH_BACKOFF_STEPS="5,30,300"
PUBLISH_RETRY_MAX=3
WEBHOOK_URL=
WEBHOOK_TIMEOUT_MS=3000
WEBHOOK_SUCCESS_CODES="200-299"
WEBHOOK_HEADERS_ALLOWLIST=
WEBHOOK_DOMAIN_ALLOWLIST=

# Read/Ops API
READ_MAX_LIMIT=100

